# admin-generator代码生成模块逻辑

## 代码生成平台的业务逻辑
1. 第一步，查询已经生成代码的数据库表
2. 第二步，导入数据表(导入数据表先查询数据库中的表)
3. 第三步，编辑导入数据表的结构（主子表等）和字段信息，如果表字段类型或者表新增字段后同步到生成的代码中
4. 第四步，预览生成的代码，生成代码（下载zip文件方式/自定义路径方式）
5. 第五步，删除生成的表业务代码


## 代码生成模块的使用
1. 查询information_schema.tables和information_schema.columns表
   可以获得开发人员在mysql数据库中创建的所有表的详细信息（ddl中信息都有）以及每张表的字段详细信息
2. 代码生成模块定义了两张业务表分别为gen_table和gen_table_column，其字段信息要包含information_schema.tables和information_schema.columns表中的
   字段信息以便于可以验证和同步数据库表生成业务代码
3. 除了业务的CURD逻辑，该模块的核心逻辑为代码模版的生成，模块引入了**org.apache.velocity**模版引擎来生成业务代码，
   生成方式也比较简单，查数据库中有需求要生成业务代码的表解析其表和字段信息替换预先定义好的业务代码模版文件（.vm后缀文件）中的${}变量生成新的代码文件
   优点是单应用开发可以加快开发效率，缺点是微服务多应用开发的话需要预先全定义好代码模版适用所有应用，已有的老项目不符合模版新生成的代码不可用，生成代码不够灵活
   模块代码可以尝试单独部署，同时引入配置中心存放vm文件便于及时修改模块灵活生成业务代码，进一步的可以把vm文件中的变量在前端用模块展示，用户通过点击模块进行生成（vm看着比较复杂不好操作）
